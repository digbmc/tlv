/**
 * Minified by jsDelivr using UglifyJS v3.4.4.
 * Original file: /npm/three-stlexporter@1.0.0/STLExporter.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
if(void 0===THREE&&"undefined"!=typeof require)var THREE=require("three");THREE.STLExporter=function(){},THREE.STLExporter.prototype={constructor:THREE.STLExporter,parse:function(){var b=new THREE.Vector3,w=new THREE.Matrix3;return function(e){var I="";return I+="solid exported\n",e.traverse(function(e){if(e instanceof THREE.Mesh){if(0==e.visible)return;var r=e.geometry,n=e.matrixWorld,t=e;if(r instanceof THREE.BufferGeometry&&(r=(new THREE.Geometry).fromBufferGeometry(r)),r instanceof THREE.Geometry){var o=r.vertices,i=r.faces;if(w.getNormalMatrix(n),void 0!==i)for(var s=0,a=i.length;s<a;s++){var l=i[s];b.copy(l.normal).applyMatrix3(w).normalize(),I+="\tfacet normal "+b.x+" "+b.y+" "+b.z+"\n",I+="\t\touter loop\n";for(var f=[l.a,l.b,l.c],d=0;d<3;d++){var p=f[d];if(void 0!==r.skinIndices&&0==r.skinIndices.length)b.copy(o[p]).applyMatrix4(n),I+="\t\t\tvertex "+b.x+" "+b.y+" "+b.z+"\n";else{b.copy(o[p]);var E=[r.skinIndices[p].x,r.skinIndices[p].y,r.skinIndices[p].z,r.skinIndices[p].w],c=[r.skinWeights[p].x,r.skinWeights[p].y,r.skinWeights[p].z,r.skinWeights[p].w],v=[skeleton.boneInverses[E[0]],skeleton.boneInverses[E[1]],skeleton.boneInverses[E[2]],skeleton.boneInverses[E[3]]],m=[skeleton.bones[E[0]].matrixWorld,skeleton.bones[E[1]].matrixWorld,skeleton.bones[E[2]].matrixWorld,skeleton.bones[E[3]].matrixWorld];if("undefined"!==r.morphTargets)for(var x=[],T=[],u=[],y=[],g=0;g<r.morphTargets.length;g++)x[g]=r.morphTargets[g].vertices[p].x,T[g]=r.morphTargets[g].vertices[p].y,u[g]=r.morphTargets[g].vertices[p].z,y[g]=morphTargetInfluences[g];var h=new THREE.Vector4;if("undefined"!==t.geometry.morphTargets){var k=new THREE.Vector4(b.x,b.y,b.z);for(g=0;g<r.morphTargets.length;g++)k.lerp(new THREE.Vector4(x[g],T[g],u[g],1),y[g])}for(var H=0;H<4;H++){var R=new THREE.Vector4(b.x,b.y,b.z);R.multiplyScalar(c[H]),R.applyMatrix4(v[H]).applyMatrix4(m[H]),h.add(R)}I+="\t\t\tvertex "+h.x+" "+h.y+" "+h.z+"\n"}}I+="\t\tendloop\n",I+="\tendfacet\n"}}}}),I+="endsolid exported\n"}}()},"undefined"!=typeof module&&module.exports?module.exports=THREE.STLExporter:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return saveAs});
//# sourceMappingURL=/sm/1aef250c80b776e3abfd9f8d09c5c41e4a960f417e76c7484d92ceaef57120fb.map